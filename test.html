<!DOCTYPE html>
<html>
	<head>
		<title>isoRearCamera</title>
		
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	</head>
	<body>
		<video id="player" autoplay playsinline></video>
		<button id="capture">Capture</button>
		<canvas id="snapshot" width=320 height=240></canvas>

		<script>
			const medias = {audio : false, video : {facingMode : {exact : "environment"}}};
		
			var player = document.getElementById('player'); 
			var snapshotCanvas = document.getElementById('snapshot');
			var captureButton = document.getElementById('capture');

			captureButton.addEventListener('click', function() {
				var context = snapshot.getContext('2d');
				// Draw the video frame to the canvas.
				context.drawImage(player, 0, 0, snapshotCanvas.width, snapshotCanvas.height);
			});
			
			function successCallback(stream) {
				// Attach the video stream to the video element and autoplay.
				player.srcObject = stream;
			};
			
			function errorCallback(err) {
				alert(err);
			};

			navigator.getUserMedia(medias, successCallback, errorCallback);
		</script>
	</body>
</html>





